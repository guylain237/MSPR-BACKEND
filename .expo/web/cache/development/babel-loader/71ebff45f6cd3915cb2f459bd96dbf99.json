{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\nvar _excluded = [\"promise\", \"type\"];\nvar promiseMiddleware = function promiseMiddleware() {\n  return function (next) {\n    return function (action) {\n      var promise = action.promise,\n        type = action.type,\n        rest = (0, _objectWithoutProperties2.default)(action, _excluded);\n      if (!promise) return next(action);\n      var SUCCESS = type + '_SUCCESS';\n      var REQUEST = type + 'REQUEST';\n      var FAILURE = type + '_FAILURE';\n      next((0, _extends2.default)({}, rest, {\n        type: REQUEST\n      }));\n      return promise.then(function (response) {\n        next((0, _extends2.default)({}, rest, {\n          response: response,\n          type: SUCCESS\n        }));\n        return true;\n      }).catch(function (error) {\n        next((0, _extends2.default)({}, rest, {\n          error: error,\n          type: FAILURE\n        }));\n        return false;\n      });\n    };\n  };\n};\nvar _default = promiseMiddleware;\nexports.default = _default;","map":{"version":3,"names":["promiseMiddleware","next","action","promise","type","rest","_objectWithoutProperties2","default","_excluded","SUCCESS","REQUEST","FAILURE","_extends2","then","response","catch","error","_default","exports"],"sources":["C:/Users/guyla/Desktop/ios/react/src/redux/middleware/ApiCalls.js"],"sourcesContent":["const promiseMiddleware = () => {\n    return next => action => {\n        const { promise, type, ...rest} = action;\n\n        if(!promise) return next(action);\n\n        const SUCCESS = type + '_SUCCESS';\n        const REQUEST = type + 'REQUEST';\n        const FAILURE = type + '_FAILURE';\n\n        next({ ...rest, type: REQUEST});\n        \n        return promise\n            .then(response => {\n                next({ ...rest, response: response, type: SUCCESS });\n                return true;\n            }).catch(error => {\n                next({ ...rest, error, type: FAILURE });\n                return false;\n            });\n\n\n    };\n};\n\nexport default promiseMiddleware;"],"mappings":";;;;;;;;AAAA,IAAMA,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAA,EAAS;EAC5B,OAAO,UAAAC,IAAI;IAAA,OAAI,UAAAC,MAAM,EAAI;MACrB,IAAQC,OAAO,GAAmBD,MAAM,CAAhCC,OAAO;QAAEC,IAAI,GAAaF,MAAM,CAAvBE,IAAI;QAAKC,IAAI,OAAAC,yBAAA,CAAAC,OAAA,EAAIL,MAAM,EAAAM,SAAA;MAExC,IAAG,CAACL,OAAO,EAAE,OAAOF,IAAI,CAACC,MAAM,CAAC;MAEhC,IAAMO,OAAO,GAAGL,IAAI,GAAG,UAAU;MACjC,IAAMM,OAAO,GAAGN,IAAI,GAAG,SAAS;MAChC,IAAMO,OAAO,GAAGP,IAAI,GAAG,UAAU;MAEjCH,IAAI,KAAAW,SAAA,CAAAL,OAAA,MAAMF,IAAI;QAAED,IAAI,EAAEM;MAAO,GAAE;MAE/B,OAAOP,OAAO,CACTU,IAAI,CAAC,UAAAC,QAAQ,EAAI;QACdb,IAAI,KAAAW,SAAA,CAAAL,OAAA,MAAMF,IAAI;UAAES,QAAQ,EAAEA,QAAQ;UAAEV,IAAI,EAAEK;QAAO,GAAG;QACpD,OAAO,IAAI;MACf,CAAC,CAAC,CAACM,KAAK,CAAC,UAAAC,KAAK,EAAI;QACdf,IAAI,KAAAW,SAAA,CAAAL,OAAA,MAAMF,IAAI;UAAEW,KAAK,EAALA,KAAK;UAAEZ,IAAI,EAAEO;QAAO,GAAG;QACvC,OAAO,KAAK;MAChB,CAAC,CAAC;IAGV,CAAC;EAAA;AACL,CAAC;AAAC,IAAAM,QAAA,GAEajB,iBAAiB;AAAAkB,OAAA,CAAAX,OAAA,GAAAU,QAAA"},"metadata":{},"sourceType":"script"}